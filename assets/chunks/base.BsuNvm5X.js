var q=Object.defineProperty;var J=(l,e,s)=>e in l?q(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s;var m=(l,e,s)=>J(l,typeof e!="symbol"?e+"":e,s);import{d as Q,p as Y,c as I,o as E,a as H,j as c,F,B as _,af as O,ak as C,t as tt,al as N,Z as et,_ as st}from"./framework.DraZOub8.js";import{o as S,f as it,n as U,c as j}from"./update-style.Di614ZlN.js";import{m as ot}from"./dom-size.DsQGIV4V.js";function nt(l){!l.resizeAxisParams.x.manualDistance&&!l.resizeAxisParams.y.manualDistance||(l.resizeByDirection(rt,at,ht),l.clearManual())}function rt(l,e){const{resizeLogger:s,resizeStyleUpdater:t,resizeDomAttrs:i,resizeAxisParams:o}=l,{manualDistance:n}=o.x,r=i.size.width,h=i.offsetY,f=o.x.dir||1,d=s.x.total*(o.x.dir||.5),{value:a,offset:u,otherOffset:x}=e(r,r+f*n+d,"x");if(!s.x.distance)return;const p=h+x,v=t.setStyleWidthOrHeight(a,"width"),g=t.setStyleOffset(u,p);l.updateResize({width:a,offsetX:u,offsetY:p},{...v,...g})}function at(l,e){const{resizeLogger:s,resizeStyleUpdater:t,resizeDomAttrs:i,resizeAxisParams:o}=l,{manualDistance:n}=o.y,r=i.size.height,h=i.offsetX,f=o.y.dir||1,d=s.y.total*(o.y.dir||.5),{value:a,offset:u,otherOffset:x}=e(r,r+f*n+d,"y");if(!s.y.distance)return;const p=h-x,v=t.setStyleWidthOrHeight(a,"height"),g=t.setStyleOffset(p,u);l.updateResize({height:a,offsetX:p,offsetY:u},{...v,...g})}function ht(l,e,s){const{resizeLogger:t,resizeStyleUpdater:i,resizeDomAttrs:o,resizeAxisParams:n}=l,{lockAspectRatio:r}=l.options,{width:h,height:f,aspectRatio:d}=o.size,a=p=>{const v=n.x.dir||1,g=n.y.dir||1,D=t.x.total*(n.x.dir||.5),z=t.y.total*(n.y.dir||.5),{value:y,offset:A,otherOffset:R}=e(h,h+v*p.distanceX+D,"x"),{value:M,offset:P,otherOffset:X}=s(f,f+g*p.distanceY+z,"y");if(!t.x.distance&&!t.y.distance||r&&(!t.x.distance||!t.y.distance))return;const w=A-X,b=P+R,B=i.setStyleWidthOrHeight(y,"width"),K=i.setStyleWidthOrHeight(M,"height"),Z=i.setStyleOffset(w,b);l.updateResize({width:y,height:M,offsetX:w,offsetY:b},{...B,...K,...Z})},{manualDistance:u}=n.x,{manualDistance:x}=n.y;if(r)if(u){let p=!n.x.dir&&n.y.dir?2:1;p=n.x.dir&&!n.y.dir?.5:p,a({distanceX:u,distanceY:u/d*p})}else{let p=!n.x.dir&&n.y.dir?.5:1;p=n.x.dir&&!n.y.dir?2:p,a({distanceX:x*d*p,distanceY:x})}else a({distanceX:u,distanceY:x})}function lt(l){if(l.options.pointer)return l.resizeByDirection(ft,ut,dt)}function ft(l,e){const{resizeLogger:s,resizeStyleUpdater:t,resizeDomAttrs:i,resizeAxisParams:o}=l,{offsetY:n}=i,r=T(l),h=(o.x.dir||.5*r.x)*s.x.total;return k(l,({startX:f,endX:d})=>{const{value:a,offset:u,otherOffset:x}=e(f,d+h,"x",r.x);if(!s.x.distance)return;const p=n+x,v=t.setStyleWidthOrHeight(a,"width"),g=t.setStyleOffset(u,p);l.updateResize({width:a,offsetX:u,offsetY:p},{...v,...g})})}function ut(l,e){const{resizeLogger:s,resizeStyleUpdater:t,resizeDomAttrs:i,resizeAxisParams:o}=l,{offsetX:n}=i,r=T(l),h=(o.y.dir||.5*r.y)*s.y.total;return k(l,({startY:f,endY:d})=>{const{value:a,offset:u,otherOffset:x}=e(f,d+h,"y",r.y);if(!s.y.distance)return;const p=n-x,v=t.setStyleWidthOrHeight(a,"height"),g=t.setStyleOffset(p,u);l.updateResize({height:a,offsetX:p,offsetY:u},{...v,...g})})}function dt(l,e,s){const{options:t,resizeLogger:i,resizeStyleUpdater:o,resizeDomAttrs:n,resizeAxisParams:r}=l,{size:{aspectRatio:h}}=n,{lockAspectRatio:f}=t,d=T(l),a=r.x.dir||.5*d.x,u=r.y.dir||.5*d.y,x=a*i.x.total,p=u*i.y.total,v=g=>{const{value:D,offset:z,otherOffset:y}=e(g.startX,g.endX+x,"x",d.x),{value:A,offset:R,otherOffset:M}=s(g.startY,g.endY+p,"y",d.y);if(!i.x.distance&&!i.y.distance||f&&(!i.x.distance||!i.y.distance))return;const P=z-M,X=R+y,w=o.setStyleWidthOrHeight(D,"width"),b=o.setStyleWidthOrHeight(A,"height"),B=o.setStyleOffset(P,X);l.updateResize({width:D,height:A,offsetX:P,offsetY:X},{...w,...b,...B})};if(f){let g=e===s?1:-1;const D=!r.x.dir,z=!r.y.dir;return(D||z)&&(z?D?g=d.x*d.y:g=-g*r.x.dir*d.y/2:g=-g*r.y.dir*d.x*2),k(l,({startX:y,endX:A})=>{const R=g*y/h,M=g*A/h;v({startX:y,startY:R,endX:A,endY:M})})}else return k(l,v)}function T(l){if(!l.options.target||!l.options.pointer)return{x:1,y:1};const e=l.options.target.getBoundingClientRect(),s=e.left+e.width/2,t=e.top+e.height/2,i=l.options.pointer.clientX-s,o=l.options.pointer.clientY-t,n=-l.resizeDomAttrs.variant.rotate*Math.PI/180,r=i*Math.cos(n)-o*Math.sin(n),h=i*Math.sin(n)+o*Math.cos(n);return{x:r>0?1:-1,y:h>0?1:-1}}const $=new Set;function k(l,e){const{options:s}=l;if(!s.pointer)return;const t=s.pointerTarget||s.target||document.body,i=new WeakRef(t),o=s.pointer.pointerId;$.has(o)||($.add(o),t.setPointerCapture(s.pointer.pointerId)),l.onPointerBegin();const n=ct(l,h=>{e(h),l.onPointerMove()});t.addEventListener("pointermove",n);const r=()=>{const h=i.deref();h==null||h.releasePointerCapture(o),$.delete(o),h==null||h.removeEventListener("pointermove",n),h==null||h.removeEventListener("pointerup",r),h==null||h.removeEventListener("pointercancel",r),l.clearPointer(),l.onPointerEnd()};return s.disablePointerEnd||(t.addEventListener("pointerup",r),t.addEventListener("pointercancel",r)),r}function ct(l,e){const{scaleX:s,scaleY:t,rotate:i}=l.resizeDomAttrs.variant,o=l.options.pointer.clientX,n=l.options.pointer.clientY;if(i){const r=-i*Math.PI/180,h=o*Math.cos(r)-n*Math.sin(r),f=o*Math.sin(r)+n*Math.cos(r),d=h/s,a=f/t;return u=>{const x=u.clientX,p=u.clientY,v=x*Math.cos(r)-p*Math.sin(r),g=x*Math.sin(r)+p*Math.cos(r),D=v/s,z=g/t;e({startX:d,endX:D,startY:a,endY:z})}}else{const r=o/s,h=n/t;return f=>{const d=f.clientX/s,a=f.clientY/t;e({startX:r,endX:d,startY:h,endY:a})}}}const W=.5;let mt=class{constructor(e,s){m(this,"x",{originValue:0,minValue:0,maxDistance:1/0,minDistance:-1/0,maxCrossDis:1/0,minCrossDis:-1/0,gridDistance:W,manualDistance:0,dir:0});m(this,"y",{originValue:0,minValue:0,maxDistance:1/0,minDistance:-1/0,maxCrossDis:1/0,minCrossDis:-1/0,gridDistance:W,manualDistance:0,dir:0});this.options=e,this.resizeDomAttrs=s,this.setManualDistance(),this.setDirection(),this.setAxisParams()}setManualDistance(){var h,f;const{width:e,height:s,parentWidth:t,parentHeight:i}=this.resizeDomAttrs.size,o=this.resolveManualDistance(e,t,(h=this.options.manual)==null?void 0:h.width),n=this.resolveManualDistance(s,i,(f=this.options.manual)==null?void 0:f.height),r=o!==this.x.manualDistance||n!==this.y.manualDistance;return this.x.manualDistance=o,this.y.manualDistance=n,r}setDirection(){const e=this.options.direction||"all",s=e.includes("left"),t=e.includes("right"),i=e.includes("top"),o=e.includes("bottom");this.x.dir=s===t?0:t?1:-1,this.y.dir=i===o?0:o?1:-1}setAxisParams(){var d,a,u;const{width:e,height:s,aspectRatio:t,maxWidth:i,minWidth:o,maxHeight:n,minHeight:r}=this.resizeDomAttrs.size;let h=(((d=this.options.grid)==null?void 0:d[0])||W)*(this.x.dir?1:2),f=(((a=this.options.grid)==null?void 0:a[1])||W)*(this.y.dir?1:2);this.options.lockAspectRatio&&(this.options.pointer||(u=this.options.manual)!=null&&u.width?f=h/t:h=f*t),this.x.originValue=e,this.x.minValue=e-Math.floor((e-o)/h)*h,this.x.maxDistance=Math.floor((i-e)/h)*h,this.x.minDistance=Math.ceil((o-e)/h)*h,this.x.maxCrossDis=Math.floor((i+e)/h)*h,this.x.minCrossDis=2*this.x.minValue,this.x.gridDistance=h,this.y.originValue=s,this.y.minValue=s-Math.floor((s-r)/f)*f,this.y.maxDistance=Math.floor((n-s)/f)*f,this.y.minDistance=Math.ceil((r-s)/f)*f,this.y.maxCrossDis=Math.floor((n+s)/f)*f,this.y.minCrossDis=2*this.y.minValue,this.y.gridDistance=f}resolveManualDistance(e,s,t){var n;if(t===void 0)return 0;const i=t.toString();let o=0;return i&&(o=S(i,s),((n=this.options.manual)==null?void 0:n.mode)==="absolute"&&(o=o-e)),o}};class pt{constructor(e,s){m(this,"getDistance",()=>0);this.options=e,this.resizeAxisParams=s,this.createGetDistanceMethod()}createGetDistanceMethod(){this.options.crossAxis?this.getDistance=(e,s,t,i)=>{const{maxDistance:o,minDistance:n,gridDistance:r}=this.resizeAxisParams[t],h=Math.round((s-e)/r)*r,f=h*i;if(f<n){let d=h-i*this.resizeAxisParams[t].minCrossDis;return-i*d>this.resizeAxisParams[t].maxCrossDis&&(d=-i*this.resizeAxisParams[t].maxCrossDis),d}return f>o?o*i:h}:this.getDistance=(e,s,t,i)=>{const{maxDistance:o,minDistance:n,gridDistance:r}=this.resizeAxisParams[t],h=Math.round((s-e)/r)*r,f=h*i;return f<n?n*i:f>o?o*i:h}}}class gt{constructor(e){m(this,"offsetX",0);m(this,"offsetY",0);m(this,"variant",new it);m(this,"size",new ot);this.options=e,this.updateTargetAttrsInfo(),this.updateOffsetInfo(),this.customDomAttrs(),this.updateSizeConstraints()}updateTargetAttrsInfo(){var t,i;if(!this.options.target)return;const e=window.getComputedStyle(this.options.target,null),s=window.getComputedStyle(this.options.target.parentNode,null);this.size.setSizeInfo(e,s),this.variant.setVariantInfo(e,(i=(t=this.options.target)==null?void 0:t.style)==null?void 0:i.transformOrigin)}updateSizeConstraints(){this.size.lockWidthHeightRatio(this.options.lockAspectRatio||!1)}updateOffsetInfo(){this.options.offsetType==="position"?(this.offsetX=this.variant.positionLeft,this.offsetY=this.variant.positionTop):this.options.offsetType==="translate"?(this.offsetX=this.variant.translateX,this.offsetY=this.variant.translateY):this.variant.transformValue.length>6?(this.offsetX=this.variant.transformValue[12],this.offsetY=this.variant.transformValue[13]):(this.offsetX=this.variant.transformValue[4],this.offsetY=this.variant.transformValue[5])}customDomAttrs(){if(!this.options.customStyle)return;const{parentWidth:e,parentHeight:s,width:t,height:i,maxWidth:o,maxHeight:n,minWidth:r,minHeight:h}=this.options.customStyle,{offsetX:f,offsetY:d,rotate:a,scale:u,transformOrigin:x}=this.options.customStyle;if(e!==void 0&&(this.size.parentWidth=e),s!==void 0&&(this.size.parentHeight=s),t!==void 0&&(this.size.width=S(String(t),this.size.parentWidth)),i!==void 0&&(this.size.height=S(String(i),this.size.parentHeight)),o!==void 0&&(this.size.domMaxWidth=this.size.maxWidth=S(String(o),this.size.parentWidth)),n!==void 0&&(this.size.domMaxHeight=this.size.maxHeight=S(String(n),this.size.parentHeight)),r!==void 0&&(this.size.domMinWidth=this.size.minWidth=S(String(r),this.size.parentWidth)),h!==void 0&&(this.size.domMinHeight=this.size.minHeight=S(String(h),this.size.parentHeight)),a!==void 0&&(this.variant.rotate=U(String(a))),u!==void 0){const p=new Array().concat(u).join(" ").split(/\s+/);this.variant.scaleX=U(p[0]),this.variant.scaleY=U(p[1]||p[0])}x!==void 0&&this.variant.resolveTransformOrigin(x),f!==void 0&&(this.offsetX=S(String(f),this.size.width)),d!==void 0&&(this.offsetY=S(String(d),this.size.height))}}class xt{constructor(e,s,t,i,o){m(this,"getResizeValue",()=>0);m(this,"resizingForward",(e,s,t)=>{const{originValue:i,minValue:o}=this.resizeAxisParams[t],n=this.resizeDistanceCounter.getDistance(e,s,t,1),r=i+n,{offsetCurrentAxis:h,offsetAnotherAxis:f}=this.resizeOffsetCounter.getForwardOffset(n,t,1,r),d=this.getResizeValue(r,o);return this.resizeLogger.logDistance(d,t),{value:Math.abs(d),offset:h,otherOffset:f}});m(this,"resizingBackward",(e,s,t)=>{const{originValue:i,minValue:o}=this.resizeAxisParams[t],n=this.resizeDistanceCounter.getDistance(e,s,t,-1),r=i-n,{offsetCurrentAxis:h,offsetAnotherAxis:f}=this.resizeOffsetCounter.getBackwardOffset(n,t,-1,r),d=this.getResizeValue(r,o);return this.resizeLogger.logDistance(d,t),{value:Math.abs(d),offset:h,otherOffset:f}});m(this,"resizingBoth",(e,s,t,i=1)=>{const{originValue:o,minValue:n}=this.resizeAxisParams[t],r=this.resizeDistanceCounter.getDistance(2*e,2*s,t,i),h=o+i*r,{offsetCurrentAxis:f,offsetAnotherAxis:d}=this.resizeOffsetCounter.getBothOffset(r,t,i,h),a=this.getResizeValue(h,n);return this.resizeLogger.logDistance(a,t),{value:Math.abs(a),offset:f,otherOffset:d}});this.options=e,this.resizeAxisParams=s,this.resizeDistanceCounter=t,this.resizeOffsetCounter=i,this.resizeLogger=o,this.createResizeValueMethod()}createResizeValueMethod(){this.getResizeValue=this.options.offsetType?e=>e:(e,s)=>e>s?e:s}}class vt{constructor(e){m(this,"x",{value:0,total:0,distance:0});m(this,"y",{value:0,total:0,distance:0});this.axiosParams=e,this.setDistance()}setDistance(){this.x.value=this.axiosParams.x.originValue,this.y.value=this.axiosParams.y.originValue,this.x.total=0,this.y.total=0,this.x.distance=0,this.y.distance=0}logDistance(e,s){this[s].distance=e-this[s].value,this[s].value=e,this[s].total=e>0?e-this.axiosParams[s].originValue:e-this.axiosParams[s].minValue}}function L(l){const e=l();return(s,t,i,o)=>{const{getOffsetNegative:n,getOffsetPositive:r}=e(s,t,i);return o>0?r(s,t,i):n(s,t,i)}}const V=()=>({offsetCurrentAxis:0,offsetAnotherAxis:0});class yt{constructor(e,s){m(this,"cosRad",0);m(this,"sinRad",0);m(this,"axiosOffsetKey",{x:"offsetX",y:"offsetY"});m(this,"scaleAxisMultiple",{x:{v1:0,v2:0},y:{v1:0,v2:0}});m(this,"rotateCurrentAxisMultiple",{x:{v1:0,v2:0},y:{v1:0,v2:0}});m(this,"rotateAnotherAxisMultiple",{x:{v1:0,v2:0},y:{v1:0,v2:0}});m(this,"negativeAxiosOffset",{x:{originCos:0,minCos:0,originSin:0,minSin:0},y:{originCos:0,minCos:0,originSin:0,minSin:0}});m(this,"getForwardOffset",V);m(this,"getBackwardOffset",V);m(this,"getBothOffset",V);this.options=e,this.resizeDomAttrs=s,this.options.offsetType&&(this.setVariantParams(),this.setOffsetParams(),this.setOffsetFunctions())}setVariantParams(){const{rotate:e,transformOriginX:s,transformOriginY:t,scaleX:i,scaleY:o}=this.resizeDomAttrs.variant,n=e*Math.PI/180;this.cosRad=Math.cos(n),this.sinRad=Math.sin(n),this.scaleAxisMultiple={x:{v1:(i-1)*s,v2:(i-1)*(1-s)},y:{v1:(o-1)*t,v2:(o-1)*(1-t)}},this.rotateCurrentAxisMultiple={x:{v1:i*(this.cosRad-1)*s,v2:i*(this.cosRad-1)*(1-s)},y:{v1:o*(this.cosRad-1)*t,v2:o*(this.cosRad-1)*(1-t)}},this.rotateAnotherAxisMultiple={x:{v1:i*this.sinRad*s,v2:i*this.sinRad*(1-s)},y:{v1:o*this.sinRad*t,v2:o*this.sinRad*(1-t)}}}setOffsetParams(){const{offsetX:e,offsetY:s}=this.resizeDomAttrs,{width:t,height:i,minWidth:o,minHeight:n}=this.resizeDomAttrs.size,{transformOriginX:r,transformOriginY:h,scaleX:f,scaleY:d}=this.resizeDomAttrs.variant;this.options.crossAxis?this.negativeAxiosOffset={x:{originCos:e+t+t*(f*this.cosRad-1)*(1-2*r),minCos:o*f*this.cosRad,originSin:t*(f*this.sinRad)*(1-2*r),minSin:o*f*this.sinRad},y:{originCos:s+i+i*(d*this.cosRad-1)*(1-2*h),minCos:n*d*this.cosRad,originSin:i*(d*this.sinRad)*(1-2*h),minSin:n*d*this.sinRad}}:this.negativeAxiosOffset={x:{originCos:0,minCos:0,originSin:0,minSin:0},y:{originCos:0,minCos:0,originSin:0,minSin:0}}}setOffsetFunctions(){this.getForwardOffset=L(()=>{const e=(t,i)=>{const o=t*this.scaleAxisMultiple[i].v1,n=t*this.rotateCurrentAxisMultiple[i].v1,r=t*this.rotateAnotherAxisMultiple[i].v1;return{offsetCurrentAxis:this.resizeDomAttrs[this.axiosOffsetKey[i]]+o+n,offsetAnotherAxis:r}};let s=V;if(this.options.crossAxis){const t={x:this.negativeAxiosOffset.x.originCos+this.negativeAxiosOffset.x.minCos,y:this.negativeAxiosOffset.y.originCos+this.negativeAxiosOffset.y.minCos},i={x:this.negativeAxiosOffset.x.originSin+this.negativeAxiosOffset.x.minSin,y:this.negativeAxiosOffset.y.originSin+this.negativeAxiosOffset.y.minSin};s=(o,n)=>{const r=o*this.scaleAxisMultiple[n].v2,h=o*this.rotateCurrentAxisMultiple[n].v2,f=o*this.rotateAnotherAxisMultiple[n].v2;return{offsetCurrentAxis:t[n]+o+r+h,offsetAnotherAxis:i[n]+f}}}return()=>({getOffsetPositive:e,getOffsetNegative:s})}),this.getBackwardOffset=L(()=>{const e=(t,i)=>{const o=t*this.scaleAxisMultiple[i].v2,n=t*this.rotateCurrentAxisMultiple[i].v2,r=t*this.rotateAnotherAxisMultiple[i].v2;return{offsetCurrentAxis:this.resizeDomAttrs[this.axiosOffsetKey[i]]+t+o+n,offsetAnotherAxis:r}};let s=V;if(this.options.crossAxis){const t={x:this.negativeAxiosOffset.x.originCos-this.negativeAxiosOffset.x.minCos,y:this.negativeAxiosOffset.y.originCos-this.negativeAxiosOffset.y.minCos},i={x:this.negativeAxiosOffset.x.originSin-this.negativeAxiosOffset.x.minSin,y:this.negativeAxiosOffset.y.originSin-this.negativeAxiosOffset.y.minSin};s=(o,n)=>{const r=o*this.scaleAxisMultiple[n].v1,h=o*this.rotateCurrentAxisMultiple[n].v1,f=o*this.rotateAnotherAxisMultiple[n].v1;return{offsetCurrentAxis:t[n]+r+h,offsetAnotherAxis:i[n]+f}}}return()=>({getOffsetPositive:e,getOffsetNegative:s})}),this.getBothOffset=L(()=>{const{offsetX:e,offsetY:s}=this.resizeDomAttrs,{width:t,height:i}=this.resizeDomAttrs.size,{transformOriginX:o,rotate:n,transformOriginY:r,scaleX:h,scaleY:f}=this.resizeDomAttrs.variant,d=n*Math.PI/180,a=Math.cos(d),u=Math.sin(d),x={x:(h-1)*(o-.5),y:(f-1)*(r-.5)},p={x:h*(a-1)*(o-.5),y:f*(a-1)*(r-.5)},v={x:h*u*(o-.5),y:f*u*(r-.5)},g=this.options.crossAxis?{x:e+t-2*t*(h*a-1)*(o-.5),y:s+i-2*i*(f*a-1)*(r-.5)}:{x:0,y:0},D=this.options.crossAxis?{x:-2*t*(h*u)*(o-.5),y:-2*i*(f*u)*(r-.5)}:{x:0,y:0};return(z,y,A)=>{const R=A*z/2,M=A*z*x[y],P=A*z*p[y],X=A*z*v[y],w=M+P-R,b=X;return{getOffsetPositive:()=>({offsetCurrentAxis:this.resizeDomAttrs[this.axiosOffsetKey[y]]+w,offsetAnotherAxis:b}),getOffsetNegative:()=>({offsetCurrentAxis:g[y]-w,offsetAnotherAxis:D[y]-b})}}})}}let zt=class{constructor(e,s){m(this,"targetRef");m(this,"setStyleWidthOrHeight",()=>({}));m(this,"setStyleOffset",()=>({}));this.options=e,this.resizeDomAttrs=s,e.target&&(this.targetRef=new WeakRef(e.target)),this.setStyleWidthHeightUpdater(),this.setStyleOffsetUpdater()}setStyleWidthHeightUpdater(){const e={width:this.changeByCustomRender("width"),height:this.changeByCustomRender("height")};this.setStyleWidthOrHeight=j((s,t)=>({[t]:e[t](s)}),this.targetRef,this.options.disableUpdate)}setStyleOffsetUpdater(){this.options.offsetType?this.setStyleOffset=j(this.createGetOffsetStyle(),this.targetRef,this.options.disableUpdate):this.setStyleOffset=()=>({})}changeByCustomRender(e){return s=>{var i;const t=(i=this.options.customRender)==null?void 0:i[e];return(t==null?void 0:t(s,{parentWidth:this.resizeDomAttrs.size.parentWidth,parentHeight:this.resizeDomAttrs.size.parentHeight}))??`${s}px`}}createGetOffsetStyle(){const e=this.changeByCustomRender("offsetX"),s=this.changeByCustomRender("offsetY");if(this.options.offsetType==="position")return(t,i)=>({left:e(t),top:s(i)});if(this.options.offsetType==="translate")return(t,i)=>({translate:`${e(t)} ${s(i)}`});if(this.options.offsetType==="transform"){const{transformName:t,transformValue:i}=this.resizeDomAttrs.variant;let o="",n="";return i.length>6?(o=`${i.slice(0,12).join(",")},`,n=`,${i.slice(14).join(",")}`):(o=`${i.slice(0,4).join(",")},`,n=""),(r,h)=>({transform:`${t}(${o}${r},${h}${n})`})}return()=>({})}};class At{constructor(e){m(this,"options",{});m(this,"resizeDomAttrs");m(this,"resizeLogger");m(this,"resizeAxisParams");m(this,"resizeDistanceCounter");m(this,"resizeOffsetCounter");m(this,"resizeHandler");m(this,"resizeStyleUpdater");m(this,"cacheResizeContent",{});e&&(this.options=e),this.resizeDomAttrs=new gt(this.options),this.resizeAxisParams=new mt(this.options,this.resizeDomAttrs),this.resizeLogger=new vt(this.resizeAxisParams),this.resizeDistanceCounter=new pt(this.options,this.resizeAxisParams),this.resizeOffsetCounter=new yt(this.options,this.resizeDomAttrs),this.resizeHandler=new xt(this.options,this.resizeAxisParams,this.resizeDistanceCounter,this.resizeOffsetCounter,this.resizeLogger),this.resizeStyleUpdater=new zt(this.options,this.resizeDomAttrs)}clearManual(){this.options.manual=void 0}clearPointer(){this.options.pointer=void 0}updateResize(e,s){var t,i;this.cacheResizeContent=e,(i=(t=this.options).callback)==null||i.call(t,e,s)}onPointerBegin(){var e,s;this.cacheResizeContent={width:this.resizeDomAttrs.size.width,height:this.resizeDomAttrs.size.height,offsetX:this.resizeDomAttrs.offsetX,offsetY:this.resizeDomAttrs.offsetY},(s=(e=this.options).onPointerBegin)==null||s.call(e,this.cacheResizeContent)}onPointerMove(){var e,s;(s=(e=this.options).onPointerMove)==null||s.call(e,this.cacheResizeContent)}onPointerEnd(){var e,s;(s=(e=this.options).onPointerEnd)==null||s.call(e,this.cacheResizeContent)}resizeByDirection(e,s,t){const{resizingBackward:i,resizingForward:o,resizingBoth:n}=this.resizeHandler;switch(this.options.direction){case"left":return e(this,i);case"right":return e(this,o);case"left-right":return e(this,n);case"top":return s(this,i);case"bottom":return s(this,o);case"top-bottom":return s(this,n);case"left-top":return t(this,i,i);case"right-top":return t(this,o,i);case"left-bottom":return t(this,i,o);case"right-bottom":return t(this,o,o);case"left-bottom-right":return t(this,n,o);case"left-top-right":return t(this,n,i);case"top-left-bottom":return t(this,i,n);case"top-right-bottom":return t(this,o,n);case"all":return t(this,n,n)}}}function G(l){const e=new At(l);return nt(e),lt(e)}const Dt={class:"flex flex-wrap gap-1 mt-4"},Ot=["id","value"],Ct=["for"],St={class:"flex gap-1 mt-4"},Mt={class:"flex gap-1 mt-4"},Rt={class:"flex gap-1 mt-4"},wt={class:"flex gap-1 mt-4"},bt={class:"flex mt-4 items-center justify-center flex-col w-40"},Pt={class:"flex gap-1 items-center justify-center"},Xt={class:"position-relative h-100"},Yt=Q({__name:"base",setup(l){const e=Y(),s=["all","left","right","top","bottom","left-top","left-bottom","right-top","right-bottom","left-right","top-bottom","left-top-right","left-bottom-right","top-left-bottom","top-right-bottom"],t=Y(s[0]),i=Y(!1),o=Y("position"),n=Y([.5,.5]),r=Y(!1);function h(d){G({target:e.value,pointer:d,offsetType:o.value,lockAspectRatio:i.value,direction:t.value,grid:n.value,crossAxis:r.value,manual:void 0})}function f(d){G({target:e.value,offsetType:o.value,lockAspectRatio:i.value,direction:t.value,grid:n.value,crossAxis:r.value,manual:{width:d.x,height:d.y}})}return(d,a)=>(E(),I(F,null,[a[26]||(a[26]=H(" 使用指针拖动调整尺寸 ",-1)),c("div",Dt,[(E(),I(F,null,_(s,(u,x)=>c("div",{key:u},[O(c("input",{id:`dir${x}`,"onUpdate:modelValue":a[0]||(a[0]=p=>t.value=p),type:"radio",name:"direction",value:u,class:"mb-[3px]"},null,8,Ot),[[C,t.value]]),c("label",{for:`dir${x}`},tt(u),9,Ct)])),64))]),c("div",St,[c("div",null,[O(c("input",{id:"unlock","onUpdate:modelValue":a[1]||(a[1]=u=>i.value=u),type:"radio",name:"lockAspectRatio",value:!1,class:"mb-[3px]"},null,512),[[C,i.value]]),a[15]||(a[15]=c("label",{for:"unlock"},"unlock",-1))]),c("div",null,[O(c("input",{id:"lock","onUpdate:modelValue":a[2]||(a[2]=u=>i.value=u),type:"radio",name:"lockAspectRatio",value:!0,class:"mb-[3px]"},null,512),[[C,i.value]]),a[16]||(a[16]=c("label",{for:"lock"},"lock",-1))])]),c("div",Mt,[c("div",null,[O(c("input",{id:"position","onUpdate:modelValue":a[3]||(a[3]=u=>o.value=u),type:"radio",name:"offset",value:"position",class:"mb-[3px]"},null,512),[[C,o.value]]),a[17]||(a[17]=c("label",{for:"position"},"position",-1))]),c("div",null,[O(c("input",{id:"transform","onUpdate:modelValue":a[4]||(a[4]=u=>o.value=u),type:"radio",name:"offset",value:"transform",class:"mb-[3px]"},null,512),[[C,o.value]]),a[18]||(a[18]=c("label",{for:"transform"},"transform",-1))]),c("div",null,[O(c("input",{id:"translate","onUpdate:modelValue":a[5]||(a[5]=u=>o.value=u),type:"radio",name:"offset",value:"translate",class:"mb-[3px]"},null,512),[[C,o.value]]),a[19]||(a[19]=c("label",{for:"translate"},"translate",-1))]),c("div",null,[O(c("input",{id:"none","onUpdate:modelValue":a[6]||(a[6]=u=>o.value=u),type:"radio",name:"offset",value:void 0,class:"mb-[3px]"},null,512),[[C,o.value]]),a[20]||(a[20]=c("label",{for:"none"},"none",-1))])]),c("div",Rt,[c("div",null,[O(c("input",{id:"uncross","onUpdate:modelValue":a[7]||(a[7]=u=>r.value=u),type:"radio",name:"crossAxis",value:!1,class:"mb-[3px]"},null,512),[[C,r.value]]),a[21]||(a[21]=c("label",{for:"uncross"},"uncross",-1))]),c("div",null,[O(c("input",{id:"cross","onUpdate:modelValue":a[8]||(a[8]=u=>r.value=u),type:"radio",name:"crossAxis",value:!0,class:"mb-[3px]"},null,512),[[C,r.value]]),a[22]||(a[22]=c("label",{for:"cross"},"cross",-1))])]),c("div",wt,[a[23]||(a[23]=H(" gridX: ",-1)),O(c("input",{"onUpdate:modelValue":a[9]||(a[9]=u=>n.value[0]=u),class:"b-1 b-gray b-solid px-1 b-rounded"},null,512),[[N,n.value[0]]]),a[24]||(a[24]=H(" gridY: ",-1)),O(c("input",{"onUpdate:modelValue":a[10]||(a[10]=u=>n.value[1]=u),class:"b-1 b-gray b-solid b-rounded px-1"},null,512),[[N,n.value[1]]])]),c("div",bt,[c("button",{class:"ctxs-btn",onClick:a[11]||(a[11]=u=>f({x:0,y:-5}))}," -5 "),c("div",Pt,[c("button",{class:"ctxs-btn",onClick:a[12]||(a[12]=u=>f({x:-5,y:0}))}," -5 "),a[25]||(a[25]=H(" 调整 ",-1)),c("button",{class:"ctxs-btn",onClick:a[13]||(a[13]=u=>f({x:5,y:0}))}," +5 ")]),c("button",{class:"ctxs-btn",onClick:a[14]||(a[14]=u=>f({x:0,y:5}))}," +5 ")]),c("div",Xt,[c("div",{ref_key:"resizeTarget1",ref:e,class:"w-30 h-30 position-absolute bg-blue min-w-10 min-h-10 max-w-100 left-[200px] max-h-100 top-[200px]",onPointerdown:et(h,["stop","prevent"])},null,544)])],64))}}),$t=st(Yt,[["__scopeId","data-v-a132e320"]]);export{$t as default};
