var k=Object.defineProperty;var I=(h,i,t)=>i in h?k(h,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[i]=t;var d=(h,i,t)=>I(h,typeof i!="symbol"?i+"":i,t);import{e as v,r as z,f as E,c as $}from"./update-style.Csv_yF-P.js";function L(h){!h.resizeAxisParams.x.manualDistance&&!h.resizeAxisParams.y.manualDistance||(h.resizeByDirection(F,N,j),h.clearManual())}function F(h,i){const{resizeDistance:t,resizeStyleUpdater:s,resizeDomAttrs:e,resizeAxisParams:n}=h,{manualDistance:o}=n.x,r=e.size.width,a=e.offsetY,f=n.x.dir||1,c=t.x.total*(n.x.dir||.5),{value:l,offset:g,otherOffset:x}=i(r,r+f*o+c,"x");if(!t.x.distance)return;const m=a+x,p=s.setStyleWidthOrHeight(l,"width"),u=s.setStyleOffset(g,m);h.updateResize({width:l,offsetX:g,offsetY:m},{...p,...u})}function N(h,i){const{resizeDistance:t,resizeStyleUpdater:s,resizeDomAttrs:e,resizeAxisParams:n}=h,{manualDistance:o}=n.y,r=e.size.height,a=e.offsetX,f=n.y.dir||1,c=t.y.total*(n.y.dir||.5),{value:l,offset:g,otherOffset:x}=i(r,r+f*o+c,"y");if(!t.y.distance)return;const m=a-x,p=s.setStyleWidthOrHeight(l,"height"),u=s.setStyleOffset(m,g);h.updateResize({height:l,offsetX:m,offsetY:g},{...p,...u})}function j(h,i,t){const{resizeDistance:s,resizeStyleUpdater:e,resizeDomAttrs:n,resizeAxisParams:o}=h,{lockAspectRatio:r}=h.options,{width:a,height:f,aspectRatio:c}=n.size,l=m=>{const p=o.x.dir||1,u=o.y.dir||1,O=s.x.total*(o.x.dir||.5),A=s.y.total*(o.y.dir||.5),{value:y,offset:D,otherOffset:C}=i(a,a+p*m.distanceX+O,"x"),{value:M,offset:W,otherOffset:H}=t(f,f+u*m.distanceY+A,"y");if(!s.x.distance&&!s.y.distance||r&&(!s.x.distance||!s.y.distance))return;const S=D-H,R=W+C,Y=e.setStyleWidthOrHeight(y,"width"),T=e.setStyleWidthOrHeight(M,"height"),U=e.setStyleOffset(S,R);h.updateResize({width:y,height:M,offsetX:S,offsetY:R},{...Y,...T,...U})},{manualDistance:g}=o.x,{manualDistance:x}=o.y;if(r)if(g){let m=!o.x.dir&&o.y.dir?2:1;m=o.x.dir&&!o.y.dir?.5:m,l({distanceX:g,distanceY:g/c*m})}else{let m=!o.x.dir&&o.y.dir?.5:1;m=o.x.dir&&!o.y.dir?2:m,l({distanceX:x*c*m,distanceY:x})}else l({distanceX:g,distanceY:x})}function K(h){if(h.options.pointer)return h.resizeByDirection(G,q,J)}function G(h,i){const{resizeDistance:t,resizeStyleUpdater:s,resizeDomAttrs:e,resizeAxisParams:n}=h,{offsetY:o}=e,r=b(h),a=(n.x.dir||.5*r.x)*t.x.total;return X(h,({startX:f,endX:c})=>{const{value:l,offset:g,otherOffset:x}=i(f,c+a,"x",r.x);if(!t.x.distance)return;const m=o+x,p=s.setStyleWidthOrHeight(l,"width"),u=s.setStyleOffset(g,m);h.updateResize({width:l,offsetX:g,offsetY:m},{...p,...u})})}function q(h,i){const{resizeDistance:t,resizeStyleUpdater:s,resizeDomAttrs:e,resizeAxisParams:n}=h,{offsetX:o}=e,r=b(h),a=(n.y.dir||.5*r.y)*t.y.total;return X(h,({startY:f,endY:c})=>{const{value:l,offset:g,otherOffset:x}=i(f,c+a,"y",r.y);if(!t.y.distance)return;const m=o-x,p=s.setStyleWidthOrHeight(l,"height"),u=s.setStyleOffset(m,g);h.updateResize({height:l,offsetX:m,offsetY:g},{...p,...u})})}function J(h,i,t){const{options:s,resizeDistance:e,resizeStyleUpdater:n,resizeDomAttrs:o,resizeAxisParams:r}=h,{size:{aspectRatio:a}}=o,{lockAspectRatio:f}=s,c=b(h),l=r.x.dir||.5*c.x,g=r.y.dir||.5*c.y,x=l*e.x.total,m=g*e.y.total,p=u=>{const{value:O,offset:A,otherOffset:y}=i(u.startX,u.endX+x,"x",c.x),{value:D,offset:C,otherOffset:M}=t(u.startY,u.endY+m,"y",c.y);if(!e.x.distance&&!e.y.distance||f&&(!e.x.distance||!e.y.distance))return;const W=A-M,H=C+y,S=n.setStyleWidthOrHeight(O,"width"),R=n.setStyleWidthOrHeight(D,"height"),Y=n.setStyleOffset(W,H);h.updateResize({width:O,height:D,offsetX:W,offsetY:H},{...S,...R,...Y})};if(f){let u=i===t?1:-1;const O=!r.x.dir,A=!r.y.dir;return(O||A)&&(A?O?u=c.x*c.y:u=-u*r.x.dir*c.y/2:u=-u*r.y.dir*c.x*2),X(h,({startX:y,endX:D})=>{const C=u*y/a,M=u*D/a;p({startX:y,startY:C,endX:D,endY:M})})}else return X(h,p)}function b(h){if(!h.options.target||!h.options.pointer)return{x:1,y:1};const i=h.options.target.getBoundingClientRect(),t=i.left+i.width/2,s=i.top+i.height/2,e=h.options.pointer.clientX-t,n=h.options.pointer.clientY-s,o=-h.resizeDomAttrs.variant.rotate*Math.PI/180,r=e*Math.cos(o)-n*Math.sin(o),a=e*Math.sin(o)+n*Math.cos(o);return{x:r>0?1:-1,y:a>0?1:-1}}const V=new Set;function X(h,i){const{options:t}=h;if(!t.pointer)return;const s=t.pointerTarget||t.target||document.body,e=new WeakRef(s),n=t.pointer.pointerId;V.has(n)||(V.add(n),s.setPointerCapture(t.pointer.pointerId)),h.onPointerBegin();const o=Q(h,a=>{i(a),h.onPointerMove()});s.addEventListener("pointermove",o);const r=()=>{const a=e.deref();a==null||a.releasePointerCapture(n),V.delete(n),a==null||a.removeEventListener("pointermove",o),a==null||a.removeEventListener("pointerup",r),a==null||a.removeEventListener("pointercancel",r),h.clearPointer(),h.onPointerEnd()};return t.disablePointerEnd||(s.addEventListener("pointerup",r),s.addEventListener("pointercancel",r)),r}function Q(h,i){const{scaleX:t,scaleY:s,rotate:e}=h.resizeDomAttrs.variant,n=h.options.pointer.clientX,o=h.options.pointer.clientY;if(e){const r=-e*Math.PI/180,a=n*Math.cos(r)-o*Math.sin(r),f=n*Math.sin(r)+o*Math.cos(r),c=a/t,l=f/s;return g=>{const x=g.clientX,m=g.clientY,p=x*Math.cos(r)-m*Math.sin(r),u=x*Math.sin(r)+m*Math.cos(r),O=p/t,A=u/s;i({startX:c,endX:O,startY:l,endY:A})}}else{const r=n/t,a=o/s;return f=>{const c=f.clientX/t,l=f.clientY/s;i({startX:r,endX:c,startY:a,endY:l})}}}const P=.5;let Z=class{constructor(i,t){d(this,"x",{originValue:0,minValue:0,maxDistance:1/0,minDistance:-1/0,maxCrossDis:1/0,minCrossDis:-1/0,gridDistance:P,manualDistance:0,dir:0});d(this,"y",{originValue:0,minValue:0,maxDistance:1/0,minDistance:-1/0,maxCrossDis:1/0,minCrossDis:-1/0,gridDistance:P,manualDistance:0,dir:0});this.options=i,this.resizeDomAttrs=t,this.setManualDistance(),this.setDirection(),this.setAxisParams()}setManualDistance(){var a,f;const{width:i,height:t,parentWidth:s,parentHeight:e}=this.resizeDomAttrs.size,n=this.resolveManualDistance(i,s,(a=this.options.manual)==null?void 0:a.width),o=this.resolveManualDistance(t,e,(f=this.options.manual)==null?void 0:f.height),r=n!==this.x.manualDistance||o!==this.y.manualDistance;return this.x.manualDistance=n,this.y.manualDistance=o,r}setDirection(){const i=this.options.direction||"all",t=i.includes("left"),s=i.includes("right"),e=i.includes("top"),n=i.includes("bottom");this.x.dir=t===s?0:s?1:-1,this.y.dir=e===n?0:n?1:-1}setAxisParams(){var c,l,g;const{width:i,height:t,aspectRatio:s,maxWidth:e,minWidth:n,maxHeight:o,minHeight:r}=this.resizeDomAttrs.size;let a=(((c=this.options.grid)==null?void 0:c[0])||P)*(this.x.dir?1:2),f=(((l=this.options.grid)==null?void 0:l[1])||P)*(this.y.dir?1:2);this.options.lockAspectRatio&&(this.options.pointer||(g=this.options.manual)!=null&&g.width?f=a/s:a=f*s),this.x.originValue=i,this.x.minValue=i-Math.floor((i-n)/a)*a,this.x.maxDistance=Math.floor((e-i)/a)*a,this.x.minDistance=Math.ceil((n-i)/a)*a,this.x.maxCrossDis=Math.floor((e+i)/a)*a,this.x.minCrossDis=2*this.x.minValue,this.x.gridDistance=a,this.y.originValue=t,this.y.minValue=t-Math.floor((t-r)/f)*f,this.y.maxDistance=Math.floor((o-t)/f)*f,this.y.minDistance=Math.ceil((r-t)/f)*f,this.y.maxCrossDis=Math.floor((o+t)/f)*f,this.y.minCrossDis=2*this.y.minValue,this.y.gridDistance=f}resolveManualDistance(i,t,s){var o;const e=s==null?void 0:s.toString();let n=0;return e&&(n=v(e,t),((o=this.options.manual)==null?void 0:o.mode)==="absolute"&&(n=n-i)),n}};class _{constructor(i,t){d(this,"x",{value:0,total:0,distance:0});d(this,"y",{value:0,total:0,distance:0});this.axiosParams=i,this.resizeDomAttrs=t,this.setDistance()}setDistance(){this.x.value=this.resizeDomAttrs.size.width,this.y.value=this.resizeDomAttrs.size.height,this.x.total=0,this.y.total=0,this.x.distance=0,this.y.distance=0}logDistance(i,t){this[t].distance=i-this[t].value,this[t].value=i,this[t].total=i>0?i-this.axiosParams[t].originValue:i-this.axiosParams[t].minValue}}let tt=class{constructor(i,t){d(this,"getDistance",()=>0);this.options=i,this.resizeAxisParams=t,this.createGetDistanceMethod()}createGetDistanceMethod(){this.options.crossAxis?this.getDistance=(i,t,s,e)=>{const{maxDistance:n,minDistance:o,gridDistance:r}=this.resizeAxisParams[s],a=Math.round((t-i)/r)*r,f=a*e;if(f<o){let c=a-e*this.resizeAxisParams[s].minCrossDis;return-e*c>this.resizeAxisParams[s].maxCrossDis&&(c=-e*this.resizeAxisParams[s].maxCrossDis),c}return f>n?n*e:a}:this.getDistance=(i,t,s,e)=>{const{maxDistance:n,minDistance:o,gridDistance:r}=this.resizeAxisParams[s],a=Math.round((t-i)/r)*r,f=a*e;return f<o?o*e:f>n?n*e:a}}};class it{constructor(){d(this,"parentWidth",0);d(this,"parentHeight",0);d(this,"width",0);d(this,"height",0);d(this,"aspectRatio",1);d(this,"maxWidth",1/0);d(this,"maxHeight",1/0);d(this,"minWidth",0);d(this,"minHeight",0);d(this,"domMinWidth",0);d(this,"domMinHeight",0);d(this,"domMaxWidth",1/0);d(this,"domMaxHeight",1/0)}setSizeInfo(i,t){this.width=z(i.width),this.height=z(i.height),this.aspectRatio=this.height&&this.width?this.width/this.height:1,this.parentWidth=z(t.width),this.parentHeight=z(t.height),t.boxSizing==="border-box"&&(this.parentWidth=this.parentWidth-z(t.paddingLeft)-z(t.paddingRight)-z(t.borderLeftWidth)-z(t.borderRightWidth),this.parentHeight=this.parentHeight-z(t.paddingTop)-z(t.paddingBottom)-z(t.borderTopWidth)-z(t.borderBottomWidth)),this.maxWidth=this.domMaxWidth=v(i.maxWidth,this.parentWidth)||1/0,this.maxHeight=this.domMaxHeight=v(i.maxHeight,this.parentHeight)||1/0,this.minWidth=this.domMinWidth=v(i.minWidth,this.parentWidth)||0,this.minHeight=this.domMinHeight=v(i.minHeight,this.parentHeight)||0}lockWidthHeightRatio(i){if(i){const t=this.domMinHeight*this.aspectRatio;t>this.domMinWidth?(this.minWidth=t,this.minHeight=this.domMinHeight):(this.minHeight=this.domMinWidth/this.aspectRatio,this.minWidth=this.domMinWidth);const s=this.domMaxHeight*this.aspectRatio;s<this.domMaxWidth?(this.maxWidth=s,this.maxHeight=this.domMaxHeight):(this.maxHeight=this.domMaxWidth/this.aspectRatio,this.maxWidth=this.domMaxWidth)}else this.minWidth=this.domMinWidth,this.minHeight=this.domMinHeight,this.maxWidth=this.domMaxWidth,this.maxHeight=this.domMaxHeight}}class st{constructor(i){d(this,"offsetX",0);d(this,"offsetY",0);d(this,"variant",new E);d(this,"size",new it);this.options=i,this.updateTargetAttrsInfo(),this.updateOffsetInfo(),this.customDomAttrs(),this.updateSizeConstraints()}updateTargetAttrsInfo(){var s,e;if(!this.options.target)return;const i=window.getComputedStyle(this.options.target,null),t=window.getComputedStyle(this.options.target.parentNode,null);this.size.setSizeInfo(i,t),this.variant.setVariantInfo(i,(e=(s=this.options.target)==null?void 0:s.style)==null?void 0:e.transformOrigin)}updateSizeConstraints(){this.size.lockWidthHeightRatio(this.options.lockAspectRatio||!1)}updateOffsetInfo(){this.options.offsetType==="position"?(this.offsetX=this.variant.positionLeft,this.offsetY=this.variant.positionTop):this.options.offsetType==="translate"?(this.offsetX=this.variant.translateX,this.offsetY=this.variant.translateY):this.variant.transformValue.length>6?(this.offsetX=this.variant.transformValue[12],this.offsetY=this.variant.transformValue[13]):(this.offsetX=this.variant.transformValue[4],this.offsetY=this.variant.transformValue[5])}customDomAttrs(){if(!this.options.customStyle)return;const{parentWidth:i,parentHeight:t,width:s,height:e,maxWidth:n,maxHeight:o,minWidth:r,minHeight:a}=this.options.customStyle,{offsetX:f,offsetY:c,rotate:l,scale:g,transformOrigin:x}=this.options.customStyle;if(i!==void 0&&(this.size.parentWidth=i),t!==void 0&&(this.size.parentHeight=t),s!==void 0&&(this.size.width=v(String(s),this.size.parentWidth)),e!==void 0&&(this.size.height=v(String(e),this.size.parentHeight)),n!==void 0&&(this.size.domMaxWidth=this.size.maxWidth=v(String(n),this.size.parentWidth)),o!==void 0&&(this.size.domMaxHeight=this.size.maxHeight=v(String(o),this.size.parentHeight)),r!==void 0&&(this.size.domMinWidth=this.size.minWidth=v(String(r),this.size.parentWidth)),a!==void 0&&(this.size.domMinHeight=this.size.minHeight=v(String(a),this.size.parentHeight)),l!==void 0&&(this.variant.rotate=z(String(l))),g!==void 0){const m=new Array().concat(g).join(" ").split(/\s+/);this.variant.scaleX=z(m[0]),this.variant.scaleY=z(m[1]||m[0])}x!==void 0&&this.variant.resolveTransformOrigin(x),f!==void 0&&(this.offsetX=v(String(f),this.size.width)),c!==void 0&&(this.offsetY=v(String(c),this.size.height))}}class et{constructor(i,t,s,e,n){d(this,"getResizeValue",()=>0);d(this,"resizingForward",(i,t,s)=>{const{originValue:e,minValue:n}=this.resizeAxisParams[s],o=this.resizeDistanceCounter.getDistance(i,t,s,1),r=e+o,{offsetCurrentAxis:a,offsetAnotherAxis:f}=this.resizeOffsetCounter.getForwardOffset(o,s,1,r),c=this.getResizeValue(r,n);return this.resizeDistance.logDistance(c,s),{value:Math.abs(c),offset:a,otherOffset:f}});d(this,"resizingBackward",(i,t,s)=>{const{originValue:e,minValue:n}=this.resizeAxisParams[s],o=this.resizeDistanceCounter.getDistance(i,t,s,-1),r=e-o,{offsetCurrentAxis:a,offsetAnotherAxis:f}=this.resizeOffsetCounter.getBackwardOffset(o,s,-1,r),c=this.getResizeValue(r,n);return this.resizeDistance.logDistance(c,s),{value:Math.abs(c),offset:a,otherOffset:f}});d(this,"resizingBoth",(i,t,s,e=1)=>{const{originValue:n,minValue:o}=this.resizeAxisParams[s],r=this.resizeDistanceCounter.getDistance(2*i,2*t,s,e),a=n+e*r,{offsetCurrentAxis:f,offsetAnotherAxis:c}=this.resizeOffsetCounter.getBothOffset(r,s,e,a),l=this.getResizeValue(a,o);return this.resizeDistance.logDistance(l,s),{value:Math.abs(l),offset:f,otherOffset:c}});this.options=i,this.resizeAxisParams=t,this.resizeDistanceCounter=s,this.resizeOffsetCounter=e,this.resizeDistance=n,this.createResizeValueMethod()}createResizeValueMethod(){this.getResizeValue=this.options.offsetType?i=>i:(i,t)=>i>t?i:t}}function B(h){const i=h();return(t,s,e,n)=>{const{getOffsetNegative:o,getOffsetPositive:r}=i(t,s,e);return n>0?r(t,s,e):o(t,s,e)}}const w=()=>({offsetCurrentAxis:0,offsetAnotherAxis:0});class nt{constructor(i,t){d(this,"cosRad",0);d(this,"sinRad",0);d(this,"axiosOffsetKey",{x:"offsetX",y:"offsetY"});d(this,"scaleAxisMultiple",{x:{v1:0,v2:0},y:{v1:0,v2:0}});d(this,"rotateCurrentAxisMultiple",{x:{v1:0,v2:0},y:{v1:0,v2:0}});d(this,"rotateAnotherAxisMultiple",{x:{v1:0,v2:0},y:{v1:0,v2:0}});d(this,"negativeAxiosOffset",{x:{originCos:0,minCos:0,originSin:0,minSin:0},y:{originCos:0,minCos:0,originSin:0,minSin:0}});d(this,"getForwardOffset",w);d(this,"getBackwardOffset",w);d(this,"getBothOffset",w);this.options=i,this.resizeDomAttrs=t,this.options.offsetType&&(this.setVariantParams(),this.setOffsetParams(),this.setOffsetFunctions())}setVariantParams(){const{rotate:i,transformOriginX:t,transformOriginY:s,scaleX:e,scaleY:n}=this.resizeDomAttrs.variant,o=i*Math.PI/180;this.cosRad=Math.cos(o),this.sinRad=Math.sin(o),this.scaleAxisMultiple={x:{v1:(e-1)*t,v2:(e-1)*(1-t)},y:{v1:(n-1)*s,v2:(n-1)*(1-s)}},this.rotateCurrentAxisMultiple={x:{v1:e*(this.cosRad-1)*t,v2:e*(this.cosRad-1)*(1-t)},y:{v1:n*(this.cosRad-1)*s,v2:n*(this.cosRad-1)*(1-s)}},this.rotateAnotherAxisMultiple={x:{v1:e*this.sinRad*t,v2:e*this.sinRad*(1-t)},y:{v1:n*this.sinRad*s,v2:n*this.sinRad*(1-s)}}}setOffsetParams(){const{offsetX:i,offsetY:t}=this.resizeDomAttrs,{width:s,height:e,minWidth:n,minHeight:o}=this.resizeDomAttrs.size,{transformOriginX:r,transformOriginY:a,scaleX:f,scaleY:c}=this.resizeDomAttrs.variant;this.options.crossAxis?this.negativeAxiosOffset={x:{originCos:i+s+s*(f*this.cosRad-1)*(1-2*r),minCos:n*f*this.cosRad,originSin:s*(f*this.sinRad)*(1-2*r),minSin:n*f*this.sinRad},y:{originCos:t+e+e*(c*this.cosRad-1)*(1-2*a),minCos:o*c*this.cosRad,originSin:e*(c*this.sinRad)*(1-2*a),minSin:o*c*this.sinRad}}:this.negativeAxiosOffset={x:{originCos:0,minCos:0,originSin:0,minSin:0},y:{originCos:0,minCos:0,originSin:0,minSin:0}}}setOffsetFunctions(){this.getForwardOffset=B(()=>{const i=(s,e)=>{const n=s*this.scaleAxisMultiple[e].v1,o=s*this.rotateCurrentAxisMultiple[e].v1,r=s*this.rotateAnotherAxisMultiple[e].v1;return{offsetCurrentAxis:this.resizeDomAttrs[this.axiosOffsetKey[e]]+n+o,offsetAnotherAxis:r}};let t=w;if(this.options.crossAxis){const s={x:this.negativeAxiosOffset.x.originCos+this.negativeAxiosOffset.x.minCos,y:this.negativeAxiosOffset.y.originCos+this.negativeAxiosOffset.y.minCos},e={x:this.negativeAxiosOffset.x.originSin+this.negativeAxiosOffset.x.minSin,y:this.negativeAxiosOffset.y.originSin+this.negativeAxiosOffset.y.minSin};t=(n,o)=>{const r=n*this.scaleAxisMultiple[o].v2,a=n*this.rotateCurrentAxisMultiple[o].v2,f=n*this.rotateAnotherAxisMultiple[o].v2;return{offsetCurrentAxis:s[o]+n+r+a,offsetAnotherAxis:e[o]+f}}}return()=>({getOffsetPositive:i,getOffsetNegative:t})}),this.getBackwardOffset=B(()=>{const i=(s,e)=>{const n=s*this.scaleAxisMultiple[e].v2,o=s*this.rotateCurrentAxisMultiple[e].v2,r=s*this.rotateAnotherAxisMultiple[e].v2;return{offsetCurrentAxis:this.resizeDomAttrs[this.axiosOffsetKey[e]]+s+n+o,offsetAnotherAxis:r}};let t=w;if(this.options.crossAxis){const s={x:this.negativeAxiosOffset.x.originCos-this.negativeAxiosOffset.x.minCos,y:this.negativeAxiosOffset.y.originCos-this.negativeAxiosOffset.y.minCos},e={x:this.negativeAxiosOffset.x.originSin-this.negativeAxiosOffset.x.minSin,y:this.negativeAxiosOffset.y.originSin-this.negativeAxiosOffset.y.minSin};t=(n,o)=>{const r=n*this.scaleAxisMultiple[o].v1,a=n*this.rotateCurrentAxisMultiple[o].v1,f=n*this.rotateAnotherAxisMultiple[o].v1;return{offsetCurrentAxis:s[o]+r+a,offsetAnotherAxis:e[o]+f}}}return()=>({getOffsetPositive:i,getOffsetNegative:t})}),this.getBothOffset=B(()=>{const{offsetX:i,offsetY:t}=this.resizeDomAttrs,{width:s,height:e}=this.resizeDomAttrs.size,{transformOriginX:n,rotate:o,transformOriginY:r,scaleX:a,scaleY:f}=this.resizeDomAttrs.variant,c=o*Math.PI/180,l=Math.cos(c),g=Math.sin(c),x={x:(a-1)*(n-.5),y:(f-1)*(r-.5)},m={x:a*(l-1)*(n-.5),y:f*(l-1)*(r-.5)},p={x:a*g*(n-.5),y:f*g*(r-.5)},u=this.options.crossAxis?{x:i+s-2*s*(a*l-1)*(n-.5),y:t+e-2*e*(f*l-1)*(r-.5)}:{x:0,y:0},O=this.options.crossAxis?{x:-2*s*(a*g)*(n-.5),y:-2*e*(f*g)*(r-.5)}:{x:0,y:0};return(A,y,D)=>{const C=D*A/2,M=D*A*x[y],W=D*A*m[y],H=D*A*p[y],S=M+W-C,R=H;return{getOffsetPositive:()=>({offsetCurrentAxis:this.resizeDomAttrs[this.axiosOffsetKey[y]]+S,offsetAnotherAxis:R}),getOffsetNegative:()=>({offsetCurrentAxis:u[y]-S,offsetAnotherAxis:O[y]-R})}}})}}class ot{constructor(i,t){d(this,"targetRef");d(this,"setStyleWidthOrHeight",()=>({}));d(this,"setStyleOffset",()=>({}));this.options=i,this.resizeDomAttrs=t,i.target&&(this.targetRef=new WeakRef(i.target)),this.setStyleWidthHeightUpdater(),this.setStyleOffsetUpdater()}setStyleWidthHeightUpdater(){const i={width:this.changeByCustomRender("width"),height:this.changeByCustomRender("height")};this.setStyleWidthOrHeight=$((t,s)=>({[s]:i[s](t)}),this.targetRef,this.options.disableUpdate)}setStyleOffsetUpdater(){this.options.offsetType?this.setStyleOffset=$(this.createOffsetHandler(),this.targetRef,this.options.disableUpdate):this.setStyleOffset=()=>({})}changeByCustomRender(i){return t=>{var e;const s=(e=this.options.customRender)==null?void 0:e[i];return(s==null?void 0:s(t,{parentWidth:this.resizeDomAttrs.size.parentWidth,parentHeight:this.resizeDomAttrs.size.parentHeight}))??`${t}px`}}createOffsetHandler(){const i=this.changeByCustomRender("offsetX"),t=this.changeByCustomRender("offsetY");if(this.options.offsetType==="position")return(s,e)=>({left:i(s),top:t(e)});if(this.options.offsetType==="translate")return(s,e)=>({translate:`${i(s)} ${t(e)}`});if(this.options.offsetType==="transform"){const{transformName:s,transformValue:e}=this.resizeDomAttrs.variant;let n="",o="";return e.length>6?(n=`${e.slice(0,12).join(",")},`,o=`,${e.slice(14).join(",")}`):(n=`${e.slice(0,4).join(",")},`,o=""),(r,a)=>({transform:`${s}(${n}${r},${a}${o})`})}return()=>({})}}class rt{constructor(i){d(this,"options",{});d(this,"resizeDomAttrs");d(this,"resizeDistance");d(this,"resizeAxisParams");d(this,"resizeDistanceCounter");d(this,"resizeOffsetCounter");d(this,"resizeHandler");d(this,"resizeStyleUpdater");d(this,"cacheResizeContent",{});i&&(this.options=i),this.resizeDomAttrs=new st(this.options),this.resizeAxisParams=new Z(this.options,this.resizeDomAttrs),this.resizeDistance=new _(this.resizeAxisParams,this.resizeDomAttrs),this.resizeDistanceCounter=new tt(this.options,this.resizeAxisParams),this.resizeOffsetCounter=new nt(this.options,this.resizeDomAttrs),this.resizeHandler=new et(this.options,this.resizeAxisParams,this.resizeDistanceCounter,this.resizeOffsetCounter,this.resizeDistance),this.resizeStyleUpdater=new ot(this.options,this.resizeDomAttrs)}clearManual(){this.options.manual=void 0}clearPointer(){this.options.pointer=void 0}updateResize(i,t){var s,e;this.cacheResizeContent=i,(e=(s=this.options).callback)==null||e.call(s,i,t)}onPointerBegin(){var i,t;this.cacheResizeContent={width:this.resizeDomAttrs.size.width,height:this.resizeDomAttrs.size.height,offsetX:this.resizeDomAttrs.offsetX,offsetY:this.resizeDomAttrs.offsetY},(t=(i=this.options).onPointerBegin)==null||t.call(i,this.cacheResizeContent)}onPointerMove(){var i,t;(t=(i=this.options).onPointerMove)==null||t.call(i,this.cacheResizeContent)}onPointerEnd(){var i,t;(t=(i=this.options).onPointerEnd)==null||t.call(i,this.cacheResizeContent)}resizeByDirection(i,t,s){const{resizingBackward:e,resizingForward:n,resizingBoth:o}=this.resizeHandler;switch(this.options.direction){case"left":return i(this,e);case"right":return i(this,n);case"left-right":return i(this,o);case"top":return t(this,e);case"bottom":return t(this,n);case"top-bottom":return t(this,o);case"left-top":return s(this,e,e);case"right-top":return s(this,n,e);case"left-bottom":return s(this,e,n);case"right-bottom":return s(this,n,n);case"left-bottom-right":return s(this,o,n);case"left-top-right":return s(this,o,e);case"top-left-bottom":return s(this,e,o);case"top-right-bottom":return s(this,n,o);case"all":return s(this,o,o)}}}function dt(h){const i=new rt(h);return L(i),K(i)}export{dt as s};
