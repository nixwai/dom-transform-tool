var U=Object.defineProperty;var k=(h,i,t)=>i in h?U(h,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[i]=t;var d=(h,i,t)=>k(h,typeof i!="symbol"?i+"":i,t);import{o as v,n as z,f as I,c as L}from"./update-style.Di614ZlN.js";function E(h){!h.resizeAxisParams.x.manualDistance&&!h.resizeAxisParams.y.manualDistance||(h.resizeByDirection(F,N,j),h.clearManual())}function F(h,i){const{resizeLogger:t,resizeStyleUpdater:e,resizeDomAttrs:s,resizeAxisParams:o}=h,{manualDistance:n}=o.x,r=s.size.width,a=s.offsetY,f=o.x.dir||1,c=t.x.total*(o.x.dir||.5),{value:l,offset:m,otherOffset:x}=i(r,r+f*n+c,"x");if(!t.x.distance)return;const g=a+x,p=e.setStyleWidthOrHeight(l,"width"),u=e.setStyleOffset(m,g);h.updateResize({width:l,offsetX:m,offsetY:g},{...p,...u})}function N(h,i){const{resizeLogger:t,resizeStyleUpdater:e,resizeDomAttrs:s,resizeAxisParams:o}=h,{manualDistance:n}=o.y,r=s.size.height,a=s.offsetX,f=o.y.dir||1,c=t.y.total*(o.y.dir||.5),{value:l,offset:m,otherOffset:x}=i(r,r+f*n+c,"y");if(!t.y.distance)return;const g=a-x,p=e.setStyleWidthOrHeight(l,"height"),u=e.setStyleOffset(g,m);h.updateResize({height:l,offsetX:g,offsetY:m},{...p,...u})}function j(h,i,t){const{resizeLogger:e,resizeStyleUpdater:s,resizeDomAttrs:o,resizeAxisParams:n}=h,{lockAspectRatio:r}=h.options,{width:a,height:f,aspectRatio:c}=o.size,l=g=>{const p=n.x.dir||1,u=n.y.dir||1,O=e.x.total*(n.x.dir||.5),A=e.y.total*(n.y.dir||.5),{value:y,offset:D,otherOffset:C}=i(a,a+p*g.distanceX+O,"x"),{value:M,offset:W,otherOffset:H}=t(f,f+u*g.distanceY+A,"y");if(!e.x.distance&&!e.y.distance||r&&(!e.x.distance||!e.y.distance))return;const S=D-H,R=W+C,Y=s.setStyleWidthOrHeight(y,"width"),$=s.setStyleWidthOrHeight(M,"height"),T=s.setStyleOffset(S,R);h.updateResize({width:y,height:M,offsetX:S,offsetY:R},{...Y,...$,...T})},{manualDistance:m}=n.x,{manualDistance:x}=n.y;if(r)if(m){let g=!n.x.dir&&n.y.dir?2:1;g=n.x.dir&&!n.y.dir?.5:g,l({distanceX:m,distanceY:m/c*g})}else{let g=!n.x.dir&&n.y.dir?.5:1;g=n.x.dir&&!n.y.dir?2:g,l({distanceX:x*c*g,distanceY:x})}else l({distanceX:m,distanceY:x})}function G(h){if(h.options.pointer)return h.resizeByDirection(K,q,J)}function K(h,i){const{resizeLogger:t,resizeStyleUpdater:e,resizeDomAttrs:s,resizeAxisParams:o}=h,{offsetY:n}=s,r=b(h),a=(o.x.dir||.5*r.x)*t.x.total;return X(h,({startX:f,endX:c})=>{const{value:l,offset:m,otherOffset:x}=i(f,c+a,"x",r.x);if(!t.x.distance)return;const g=n+x,p=e.setStyleWidthOrHeight(l,"width"),u=e.setStyleOffset(m,g);h.updateResize({width:l,offsetX:m,offsetY:g},{...p,...u})})}function q(h,i){const{resizeLogger:t,resizeStyleUpdater:e,resizeDomAttrs:s,resizeAxisParams:o}=h,{offsetX:n}=s,r=b(h),a=(o.y.dir||.5*r.y)*t.y.total;return X(h,({startY:f,endY:c})=>{const{value:l,offset:m,otherOffset:x}=i(f,c+a,"y",r.y);if(!t.y.distance)return;const g=n-x,p=e.setStyleWidthOrHeight(l,"height"),u=e.setStyleOffset(g,m);h.updateResize({height:l,offsetX:g,offsetY:m},{...p,...u})})}function J(h,i,t){const{options:e,resizeLogger:s,resizeStyleUpdater:o,resizeDomAttrs:n,resizeAxisParams:r}=h,{size:{aspectRatio:a}}=n,{lockAspectRatio:f}=e,c=b(h),l=r.x.dir||.5*c.x,m=r.y.dir||.5*c.y,x=l*s.x.total,g=m*s.y.total,p=u=>{const{value:O,offset:A,otherOffset:y}=i(u.startX,u.endX+x,"x",c.x),{value:D,offset:C,otherOffset:M}=t(u.startY,u.endY+g,"y",c.y);if(!s.x.distance&&!s.y.distance||f&&(!s.x.distance||!s.y.distance))return;const W=A-M,H=C+y,S=o.setStyleWidthOrHeight(O,"width"),R=o.setStyleWidthOrHeight(D,"height"),Y=o.setStyleOffset(W,H);h.updateResize({width:O,height:D,offsetX:W,offsetY:H},{...S,...R,...Y})};if(f){let u=i===t?1:-1;const O=!r.x.dir,A=!r.y.dir;return(O||A)&&(A?O?u=c.x*c.y:u=-u*r.x.dir*c.y/2:u=-u*r.y.dir*c.x*2),X(h,({startX:y,endX:D})=>{const C=u*y/a,M=u*D/a;p({startX:y,startY:C,endX:D,endY:M})})}else return X(h,p)}function b(h){if(!h.options.target||!h.options.pointer)return{x:1,y:1};const i=h.options.target.getBoundingClientRect(),t=i.left+i.width/2,e=i.top+i.height/2,s=h.options.pointer.clientX-t,o=h.options.pointer.clientY-e,n=-h.resizeDomAttrs.variant.rotate*Math.PI/180,r=s*Math.cos(n)-o*Math.sin(n),a=s*Math.sin(n)+o*Math.cos(n);return{x:r>0?1:-1,y:a>0?1:-1}}const V=new Set;function X(h,i){const{options:t}=h;if(!t.pointer)return;const e=t.pointerTarget||t.target||document.body,s=new WeakRef(e),o=t.pointer.pointerId;V.has(o)||(V.add(o),e.setPointerCapture(t.pointer.pointerId)),h.onPointerBegin();const n=Q(h,a=>{i(a),h.onPointerMove()});e.addEventListener("pointermove",n);const r=()=>{const a=s.deref();a==null||a.releasePointerCapture(o),V.delete(o),a==null||a.removeEventListener("pointermove",n),a==null||a.removeEventListener("pointerup",r),a==null||a.removeEventListener("pointercancel",r),h.clearPointer(),h.onPointerEnd()};return t.disablePointerEnd||(e.addEventListener("pointerup",r),e.addEventListener("pointercancel",r)),r}function Q(h,i){const{scaleX:t,scaleY:e,rotate:s}=h.resizeDomAttrs.variant,o=h.options.pointer.clientX,n=h.options.pointer.clientY;if(s){const r=-s*Math.PI/180,a=o*Math.cos(r)-n*Math.sin(r),f=o*Math.sin(r)+n*Math.cos(r),c=a/t,l=f/e;return m=>{const x=m.clientX,g=m.clientY,p=x*Math.cos(r)-g*Math.sin(r),u=x*Math.sin(r)+g*Math.cos(r),O=p/t,A=u/e;i({startX:c,endX:O,startY:l,endY:A})}}else{const r=o/t,a=n/e;return f=>{const c=f.clientX/t,l=f.clientY/e;i({startX:r,endX:c,startY:a,endY:l})}}}const P=.5;let Z=class{constructor(i,t){d(this,"x",{originValue:0,minValue:0,maxDistance:1/0,minDistance:-1/0,maxCrossDis:1/0,minCrossDis:-1/0,gridDistance:P,manualDistance:0,dir:0});d(this,"y",{originValue:0,minValue:0,maxDistance:1/0,minDistance:-1/0,maxCrossDis:1/0,minCrossDis:-1/0,gridDistance:P,manualDistance:0,dir:0});this.options=i,this.resizeDomAttrs=t,this.setManualDistance(),this.setDirection(),this.setAxisParams()}setManualDistance(){var a,f;const{width:i,height:t,parentWidth:e,parentHeight:s}=this.resizeDomAttrs.size,o=this.resolveManualDistance(i,e,(a=this.options.manual)==null?void 0:a.width),n=this.resolveManualDistance(t,s,(f=this.options.manual)==null?void 0:f.height),r=o!==this.x.manualDistance||n!==this.y.manualDistance;return this.x.manualDistance=o,this.y.manualDistance=n,r}setDirection(){const i=this.options.direction||"all",t=i.includes("left"),e=i.includes("right"),s=i.includes("top"),o=i.includes("bottom");this.x.dir=t===e?0:e?1:-1,this.y.dir=s===o?0:o?1:-1}setAxisParams(){var c,l,m;const{width:i,height:t,aspectRatio:e,maxWidth:s,minWidth:o,maxHeight:n,minHeight:r}=this.resizeDomAttrs.size;let a=(((c=this.options.grid)==null?void 0:c[0])||P)*(this.x.dir?1:2),f=(((l=this.options.grid)==null?void 0:l[1])||P)*(this.y.dir?1:2);this.options.lockAspectRatio&&(this.options.pointer||(m=this.options.manual)!=null&&m.width?f=a/e:a=f*e),this.x.originValue=i,this.x.minValue=i-Math.floor((i-o)/a)*a,this.x.maxDistance=Math.floor((s-i)/a)*a,this.x.minDistance=Math.ceil((o-i)/a)*a,this.x.maxCrossDis=Math.floor((s+i)/a)*a,this.x.minCrossDis=2*this.x.minValue,this.x.gridDistance=a,this.y.originValue=t,this.y.minValue=t-Math.floor((t-r)/f)*f,this.y.maxDistance=Math.floor((n-t)/f)*f,this.y.minDistance=Math.ceil((r-t)/f)*f,this.y.maxCrossDis=Math.floor((n+t)/f)*f,this.y.minCrossDis=2*this.y.minValue,this.y.gridDistance=f}resolveManualDistance(i,t,e){var n;if(e===void 0)return 0;const s=e.toString();let o=0;return s&&(o=v(s,t),((n=this.options.manual)==null?void 0:n.mode)==="absolute"&&(o=o-i)),o}},_=class{constructor(i,t){d(this,"getDistance",()=>0);this.options=i,this.resizeAxisParams=t,this.createGetDistanceMethod()}createGetDistanceMethod(){this.options.crossAxis?this.getDistance=(i,t,e,s)=>{const{maxDistance:o,minDistance:n,gridDistance:r}=this.resizeAxisParams[e],a=Math.round((t-i)/r)*r,f=a*s;if(f<n){let c=a-s*this.resizeAxisParams[e].minCrossDis;return-s*c>this.resizeAxisParams[e].maxCrossDis&&(c=-s*this.resizeAxisParams[e].maxCrossDis),c}return f>o?o*s:a}:this.getDistance=(i,t,e,s)=>{const{maxDistance:o,minDistance:n,gridDistance:r}=this.resizeAxisParams[e],a=Math.round((t-i)/r)*r,f=a*s;return f<n?n*s:f>o?o*s:a}}};class tt{constructor(){d(this,"parentWidth",0);d(this,"parentHeight",0);d(this,"width",0);d(this,"height",0);d(this,"aspectRatio",1);d(this,"maxWidth",1/0);d(this,"maxHeight",1/0);d(this,"minWidth",0);d(this,"minHeight",0);d(this,"domMinWidth",0);d(this,"domMinHeight",0);d(this,"domMaxWidth",1/0);d(this,"domMaxHeight",1/0)}setSizeInfo(i,t){this.width=z(i.width),this.height=z(i.height),this.aspectRatio=this.height&&this.width?this.width/this.height:1,this.parentWidth=z(t.width),this.parentHeight=z(t.height),t.boxSizing==="border-box"&&(this.parentWidth=this.parentWidth-z(t.paddingLeft)-z(t.paddingRight)-z(t.borderLeftWidth)-z(t.borderRightWidth),this.parentHeight=this.parentHeight-z(t.paddingTop)-z(t.paddingBottom)-z(t.borderTopWidth)-z(t.borderBottomWidth)),this.maxWidth=this.domMaxWidth=v(i.maxWidth,this.parentWidth)||1/0,this.maxHeight=this.domMaxHeight=v(i.maxHeight,this.parentHeight)||1/0,this.minWidth=this.domMinWidth=v(i.minWidth,this.parentWidth)||0,this.minHeight=this.domMinHeight=v(i.minHeight,this.parentHeight)||0}lockWidthHeightRatio(i){if(i){const t=this.domMinHeight*this.aspectRatio;t>this.domMinWidth?(this.minWidth=t,this.minHeight=this.domMinHeight):(this.minHeight=this.domMinWidth/this.aspectRatio,this.minWidth=this.domMinWidth);const e=this.domMaxHeight*this.aspectRatio;e<this.domMaxWidth?(this.maxWidth=e,this.maxHeight=this.domMaxHeight):(this.maxHeight=this.domMaxWidth/this.aspectRatio,this.maxWidth=this.domMaxWidth)}else this.minWidth=this.domMinWidth,this.minHeight=this.domMinHeight,this.maxWidth=this.domMaxWidth,this.maxHeight=this.domMaxHeight}}class it{constructor(i){d(this,"offsetX",0);d(this,"offsetY",0);d(this,"variant",new I);d(this,"size",new tt);this.options=i,this.updateTargetAttrsInfo(),this.updateOffsetInfo(),this.customDomAttrs(),this.updateSizeConstraints()}updateTargetAttrsInfo(){var e,s;if(!this.options.target)return;const i=window.getComputedStyle(this.options.target,null),t=window.getComputedStyle(this.options.target.parentNode,null);this.size.setSizeInfo(i,t),this.variant.setVariantInfo(i,(s=(e=this.options.target)==null?void 0:e.style)==null?void 0:s.transformOrigin)}updateSizeConstraints(){this.size.lockWidthHeightRatio(this.options.lockAspectRatio||!1)}updateOffsetInfo(){this.options.offsetType==="position"?(this.offsetX=this.variant.positionLeft,this.offsetY=this.variant.positionTop):this.options.offsetType==="translate"?(this.offsetX=this.variant.translateX,this.offsetY=this.variant.translateY):this.variant.transformValue.length>6?(this.offsetX=this.variant.transformValue[12],this.offsetY=this.variant.transformValue[13]):(this.offsetX=this.variant.transformValue[4],this.offsetY=this.variant.transformValue[5])}customDomAttrs(){if(!this.options.customStyle)return;const{parentWidth:i,parentHeight:t,width:e,height:s,maxWidth:o,maxHeight:n,minWidth:r,minHeight:a}=this.options.customStyle,{offsetX:f,offsetY:c,rotate:l,scale:m,transformOrigin:x}=this.options.customStyle;if(i!==void 0&&(this.size.parentWidth=i),t!==void 0&&(this.size.parentHeight=t),e!==void 0&&(this.size.width=v(String(e),this.size.parentWidth)),s!==void 0&&(this.size.height=v(String(s),this.size.parentHeight)),o!==void 0&&(this.size.domMaxWidth=this.size.maxWidth=v(String(o),this.size.parentWidth)),n!==void 0&&(this.size.domMaxHeight=this.size.maxHeight=v(String(n),this.size.parentHeight)),r!==void 0&&(this.size.domMinWidth=this.size.minWidth=v(String(r),this.size.parentWidth)),a!==void 0&&(this.size.domMinHeight=this.size.minHeight=v(String(a),this.size.parentHeight)),l!==void 0&&(this.variant.rotate=z(String(l))),m!==void 0){const g=new Array().concat(m).join(" ").split(/\s+/);this.variant.scaleX=z(g[0]),this.variant.scaleY=z(g[1]||g[0])}x!==void 0&&this.variant.resolveTransformOrigin(x),f!==void 0&&(this.offsetX=v(String(f),this.size.width)),c!==void 0&&(this.offsetY=v(String(c),this.size.height))}}class et{constructor(i,t,e,s,o){d(this,"getResizeValue",()=>0);d(this,"resizingForward",(i,t,e)=>{const{originValue:s,minValue:o}=this.resizeAxisParams[e],n=this.resizeDistanceCounter.getDistance(i,t,e,1),r=s+n,{offsetCurrentAxis:a,offsetAnotherAxis:f}=this.resizeOffsetCounter.getForwardOffset(n,e,1,r),c=this.getResizeValue(r,o);return this.resizeLogger.logDistance(c,e),{value:Math.abs(c),offset:a,otherOffset:f}});d(this,"resizingBackward",(i,t,e)=>{const{originValue:s,minValue:o}=this.resizeAxisParams[e],n=this.resizeDistanceCounter.getDistance(i,t,e,-1),r=s-n,{offsetCurrentAxis:a,offsetAnotherAxis:f}=this.resizeOffsetCounter.getBackwardOffset(n,e,-1,r),c=this.getResizeValue(r,o);return this.resizeLogger.logDistance(c,e),{value:Math.abs(c),offset:a,otherOffset:f}});d(this,"resizingBoth",(i,t,e,s=1)=>{const{originValue:o,minValue:n}=this.resizeAxisParams[e],r=this.resizeDistanceCounter.getDistance(2*i,2*t,e,s),a=o+s*r,{offsetCurrentAxis:f,offsetAnotherAxis:c}=this.resizeOffsetCounter.getBothOffset(r,e,s,a),l=this.getResizeValue(a,n);return this.resizeLogger.logDistance(l,e),{value:Math.abs(l),offset:f,otherOffset:c}});this.options=i,this.resizeAxisParams=t,this.resizeDistanceCounter=e,this.resizeOffsetCounter=s,this.resizeLogger=o,this.createResizeValueMethod()}createResizeValueMethod(){this.getResizeValue=this.options.offsetType?i=>i:(i,t)=>i>t?i:t}}class st{constructor(i){d(this,"x",{value:0,total:0,distance:0});d(this,"y",{value:0,total:0,distance:0});this.axiosParams=i,this.setDistance()}setDistance(){this.x.value=this.axiosParams.x.originValue,this.y.value=this.axiosParams.y.originValue,this.x.total=0,this.y.total=0,this.x.distance=0,this.y.distance=0}logDistance(i,t){this[t].distance=i-this[t].value,this[t].value=i,this[t].total=i>0?i-this.axiosParams[t].originValue:i-this.axiosParams[t].minValue}}function B(h){const i=h();return(t,e,s,o)=>{const{getOffsetNegative:n,getOffsetPositive:r}=i(t,e,s);return o>0?r(t,e,s):n(t,e,s)}}const w=()=>({offsetCurrentAxis:0,offsetAnotherAxis:0});class ot{constructor(i,t){d(this,"cosRad",0);d(this,"sinRad",0);d(this,"axiosOffsetKey",{x:"offsetX",y:"offsetY"});d(this,"scaleAxisMultiple",{x:{v1:0,v2:0},y:{v1:0,v2:0}});d(this,"rotateCurrentAxisMultiple",{x:{v1:0,v2:0},y:{v1:0,v2:0}});d(this,"rotateAnotherAxisMultiple",{x:{v1:0,v2:0},y:{v1:0,v2:0}});d(this,"negativeAxiosOffset",{x:{originCos:0,minCos:0,originSin:0,minSin:0},y:{originCos:0,minCos:0,originSin:0,minSin:0}});d(this,"getForwardOffset",w);d(this,"getBackwardOffset",w);d(this,"getBothOffset",w);this.options=i,this.resizeDomAttrs=t,this.options.offsetType&&(this.setVariantParams(),this.setOffsetParams(),this.setOffsetFunctions())}setVariantParams(){const{rotate:i,transformOriginX:t,transformOriginY:e,scaleX:s,scaleY:o}=this.resizeDomAttrs.variant,n=i*Math.PI/180;this.cosRad=Math.cos(n),this.sinRad=Math.sin(n),this.scaleAxisMultiple={x:{v1:(s-1)*t,v2:(s-1)*(1-t)},y:{v1:(o-1)*e,v2:(o-1)*(1-e)}},this.rotateCurrentAxisMultiple={x:{v1:s*(this.cosRad-1)*t,v2:s*(this.cosRad-1)*(1-t)},y:{v1:o*(this.cosRad-1)*e,v2:o*(this.cosRad-1)*(1-e)}},this.rotateAnotherAxisMultiple={x:{v1:s*this.sinRad*t,v2:s*this.sinRad*(1-t)},y:{v1:o*this.sinRad*e,v2:o*this.sinRad*(1-e)}}}setOffsetParams(){const{offsetX:i,offsetY:t}=this.resizeDomAttrs,{width:e,height:s,minWidth:o,minHeight:n}=this.resizeDomAttrs.size,{transformOriginX:r,transformOriginY:a,scaleX:f,scaleY:c}=this.resizeDomAttrs.variant;this.options.crossAxis?this.negativeAxiosOffset={x:{originCos:i+e+e*(f*this.cosRad-1)*(1-2*r),minCos:o*f*this.cosRad,originSin:e*(f*this.sinRad)*(1-2*r),minSin:o*f*this.sinRad},y:{originCos:t+s+s*(c*this.cosRad-1)*(1-2*a),minCos:n*c*this.cosRad,originSin:s*(c*this.sinRad)*(1-2*a),minSin:n*c*this.sinRad}}:this.negativeAxiosOffset={x:{originCos:0,minCos:0,originSin:0,minSin:0},y:{originCos:0,minCos:0,originSin:0,minSin:0}}}setOffsetFunctions(){this.getForwardOffset=B(()=>{const i=(e,s)=>{const o=e*this.scaleAxisMultiple[s].v1,n=e*this.rotateCurrentAxisMultiple[s].v1,r=e*this.rotateAnotherAxisMultiple[s].v1;return{offsetCurrentAxis:this.resizeDomAttrs[this.axiosOffsetKey[s]]+o+n,offsetAnotherAxis:r}};let t=w;if(this.options.crossAxis){const e={x:this.negativeAxiosOffset.x.originCos+this.negativeAxiosOffset.x.minCos,y:this.negativeAxiosOffset.y.originCos+this.negativeAxiosOffset.y.minCos},s={x:this.negativeAxiosOffset.x.originSin+this.negativeAxiosOffset.x.minSin,y:this.negativeAxiosOffset.y.originSin+this.negativeAxiosOffset.y.minSin};t=(o,n)=>{const r=o*this.scaleAxisMultiple[n].v2,a=o*this.rotateCurrentAxisMultiple[n].v2,f=o*this.rotateAnotherAxisMultiple[n].v2;return{offsetCurrentAxis:e[n]+o+r+a,offsetAnotherAxis:s[n]+f}}}return()=>({getOffsetPositive:i,getOffsetNegative:t})}),this.getBackwardOffset=B(()=>{const i=(e,s)=>{const o=e*this.scaleAxisMultiple[s].v2,n=e*this.rotateCurrentAxisMultiple[s].v2,r=e*this.rotateAnotherAxisMultiple[s].v2;return{offsetCurrentAxis:this.resizeDomAttrs[this.axiosOffsetKey[s]]+e+o+n,offsetAnotherAxis:r}};let t=w;if(this.options.crossAxis){const e={x:this.negativeAxiosOffset.x.originCos-this.negativeAxiosOffset.x.minCos,y:this.negativeAxiosOffset.y.originCos-this.negativeAxiosOffset.y.minCos},s={x:this.negativeAxiosOffset.x.originSin-this.negativeAxiosOffset.x.minSin,y:this.negativeAxiosOffset.y.originSin-this.negativeAxiosOffset.y.minSin};t=(o,n)=>{const r=o*this.scaleAxisMultiple[n].v1,a=o*this.rotateCurrentAxisMultiple[n].v1,f=o*this.rotateAnotherAxisMultiple[n].v1;return{offsetCurrentAxis:e[n]+r+a,offsetAnotherAxis:s[n]+f}}}return()=>({getOffsetPositive:i,getOffsetNegative:t})}),this.getBothOffset=B(()=>{const{offsetX:i,offsetY:t}=this.resizeDomAttrs,{width:e,height:s}=this.resizeDomAttrs.size,{transformOriginX:o,rotate:n,transformOriginY:r,scaleX:a,scaleY:f}=this.resizeDomAttrs.variant,c=n*Math.PI/180,l=Math.cos(c),m=Math.sin(c),x={x:(a-1)*(o-.5),y:(f-1)*(r-.5)},g={x:a*(l-1)*(o-.5),y:f*(l-1)*(r-.5)},p={x:a*m*(o-.5),y:f*m*(r-.5)},u=this.options.crossAxis?{x:i+e-2*e*(a*l-1)*(o-.5),y:t+s-2*s*(f*l-1)*(r-.5)}:{x:0,y:0},O=this.options.crossAxis?{x:-2*e*(a*m)*(o-.5),y:-2*s*(f*m)*(r-.5)}:{x:0,y:0};return(A,y,D)=>{const C=D*A/2,M=D*A*x[y],W=D*A*g[y],H=D*A*p[y],S=M+W-C,R=H;return{getOffsetPositive:()=>({offsetCurrentAxis:this.resizeDomAttrs[this.axiosOffsetKey[y]]+S,offsetAnotherAxis:R}),getOffsetNegative:()=>({offsetCurrentAxis:u[y]-S,offsetAnotherAxis:O[y]-R})}}})}}let nt=class{constructor(i,t){d(this,"targetRef");d(this,"setStyleWidthOrHeight",()=>({}));d(this,"setStyleOffset",()=>({}));this.options=i,this.resizeDomAttrs=t,i.target&&(this.targetRef=new WeakRef(i.target)),this.setStyleWidthHeightUpdater(),this.setStyleOffsetUpdater()}setStyleWidthHeightUpdater(){const i={width:this.changeByCustomRender("width"),height:this.changeByCustomRender("height")};this.setStyleWidthOrHeight=L((t,e)=>({[e]:i[e](t)}),this.targetRef,this.options.disableUpdate)}setStyleOffsetUpdater(){this.options.offsetType?this.setStyleOffset=L(this.createGetOffsetStyle(),this.targetRef,this.options.disableUpdate):this.setStyleOffset=()=>({})}changeByCustomRender(i){return t=>{var s;const e=(s=this.options.customRender)==null?void 0:s[i];return(e==null?void 0:e(t,{parentWidth:this.resizeDomAttrs.size.parentWidth,parentHeight:this.resizeDomAttrs.size.parentHeight}))??`${t}px`}}createGetOffsetStyle(){const i=this.changeByCustomRender("offsetX"),t=this.changeByCustomRender("offsetY");if(this.options.offsetType==="position")return(e,s)=>({left:i(e),top:t(s)});if(this.options.offsetType==="translate")return(e,s)=>({translate:`${i(e)} ${t(s)}`});if(this.options.offsetType==="transform"){const{transformName:e,transformValue:s}=this.resizeDomAttrs.variant;let o="",n="";return s.length>6?(o=s.slice(0,12).join(","),n=s.slice(14).join(",")):(o=s.slice(0,4).join(","),n=""),(r,a)=>({transform:`${e}(${o},${r},${a},${n})`})}return()=>({})}};class rt{constructor(i){d(this,"options",{});d(this,"resizeDomAttrs");d(this,"resizeLogger");d(this,"resizeAxisParams");d(this,"resizeDistanceCounter");d(this,"resizeOffsetCounter");d(this,"resizeHandler");d(this,"resizeStyleUpdater");d(this,"cacheResizeContent",{});i&&(this.options=i),this.resizeDomAttrs=new it(this.options),this.resizeAxisParams=new Z(this.options,this.resizeDomAttrs),this.resizeLogger=new st(this.resizeAxisParams),this.resizeDistanceCounter=new _(this.options,this.resizeAxisParams),this.resizeOffsetCounter=new ot(this.options,this.resizeDomAttrs),this.resizeHandler=new et(this.options,this.resizeAxisParams,this.resizeDistanceCounter,this.resizeOffsetCounter,this.resizeLogger),this.resizeStyleUpdater=new nt(this.options,this.resizeDomAttrs)}clearManual(){this.options.manual=void 0}clearPointer(){this.options.pointer=void 0}updateResize(i,t){var e,s;this.cacheResizeContent=i,(s=(e=this.options).callback)==null||s.call(e,i,t)}onPointerBegin(){var i,t;this.cacheResizeContent={width:this.resizeDomAttrs.size.width,height:this.resizeDomAttrs.size.height,offsetX:this.resizeDomAttrs.offsetX,offsetY:this.resizeDomAttrs.offsetY},(t=(i=this.options).onPointerBegin)==null||t.call(i,this.cacheResizeContent)}onPointerMove(){var i,t;(t=(i=this.options).onPointerMove)==null||t.call(i,this.cacheResizeContent)}onPointerEnd(){var i,t;(t=(i=this.options).onPointerEnd)==null||t.call(i,this.cacheResizeContent)}resizeByDirection(i,t,e){const{resizingBackward:s,resizingForward:o,resizingBoth:n}=this.resizeHandler;switch(this.options.direction){case"left":return i(this,s);case"right":return i(this,o);case"left-right":return i(this,n);case"top":return t(this,s);case"bottom":return t(this,o);case"top-bottom":return t(this,n);case"left-top":return e(this,s,s);case"right-top":return e(this,o,s);case"left-bottom":return e(this,s,o);case"right-bottom":return e(this,o,o);case"left-bottom-right":return e(this,n,o);case"left-top-right":return e(this,n,s);case"top-left-bottom":return e(this,s,n);case"top-right-bottom":return e(this,o,n);case"all":return e(this,n,n)}}}function lt(h){const i=new rt(h);return E(i),G(i)}export{lt as s};
